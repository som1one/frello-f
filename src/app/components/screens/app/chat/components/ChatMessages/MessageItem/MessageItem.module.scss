.message {
	background: var(--message-bg);
	border-radius: 30px;
	padding: 15px;
	font-weight: 500;
	max-width: 85%;
	animation: fadeInUp 0.5s ease-in-out;
}

.leftMessageCollapsed {
	margin-left: 0;
	transition: 0.1s ease;
}

.favorableMessage {
	padding-bottom: 0 !important;

	@media (max-width: 600px) {
		margin-bottom: 30px !important; // Отступ снизу для сообщений с панелью, чтобы следующее сообщение не прилипало
	}
}

.message.leftMessageWithPanel {
	padding-bottom: 0;
}

.rightMessage {
	align-self: flex-end;
	width: auto;
	transition: 0.1s ease;
}

// Убрали lastAiMessage transform - вместо этого используем padding-bottom в контейнере

.text {
	font-weight: 500;
	overflow-wrap: break-word;
	word-break: break-word;
	white-space: normal;

	p {
		font-weight: 500;
		overflow-wrap: break-word;
		word-break: break-word;
	}
}

.leftMessagePanel {
	display: flex;
	align-items: center;
	justify-content: center;
	position: relative;
	padding: 4px;
	border-radius: 30px;
	/* Added top border radius */
	background: var(--main-gradient);
	transition: 0.5s ease;
	margin: 15px -15px -15px -15px;
	width: calc(100% + 30px);
	gap: 12px;

	&.hiddenWhileRenaming {
		z-index: -1;
	}

	:global(.light-theme) & {
		background: var(--main-gradient);
		/* Keep orange gradient in light theme */
	}
}

.lightLeftMessagePanel {
	background: rgba(0, 0, 0, 0.05);

	:global(.light-theme) & {
		background: var(--main-gradient) !important;
		/* Force orange gradient */
	}
}

.leftMessagePanelButton {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 10px;
	width: 100%;
	padding: 14px 16px;
	background: none;
	/* Removed white overlay */
	border-radius: 24px;
	color: #fff;
	cursor: pointer;
	text-transform: none;
	font-weight: 600;
	font-size: 15px;
	transition:
		transform 0.2s ease,
		background 0.2s ease;

	@media (max-width: 768px) {
		padding: 12px 14px;
		font-size: 13px;
	}
}

.fullPanelButton {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 100%;
	height: 100%;
	padding: 10px;
	background: none;
	border: none;
	cursor: pointer;
	transition: transform 0.2s ease;
}

.buttonText {
	color: #fff;
	font-weight: 600;
	font-size: 14px;

	:global(.light-theme) & {
		color: #fff !important;
		/* White text for light theme */
	}
}

.leftMessagePanelButton:disabled {
	opacity: 0.6;
	cursor: not-allowed;
	background: none;
	/* Removed white overlay from disabled state */
}

.leftMessage {
	padding: 15px;
	transition: 0.1s ease;
}

.rightMessageCollapsed {
	transition: 0.1s ease;
}

.firstButton img,
.secondButton img {
	height: 100%;
	max-height: 100%;
	max-width: 100%;
}

.loadingDots {
	display: flex;
	align-items: center;
	justify-content: flex-start;
	gap: 3px;
	font-size: 16px;
	color: var(--second-text);
}

.loadingText {
	margin-right: 2px;
}

.dot {
	animation: blink 1.4s infinite both;
	font-size: 20px;
	line-height: 10px;
}

.dot:nth-child(2) {
	animation-delay: 0s;
}

.dot:nth-child(3) {
	animation-delay: 0.2s;
}

.dot:nth-child(4) {
	animation-delay: 0.4s;
}

@keyframes blink {
	0% {
		opacity: 0.2;
	}

	20% {
		opacity: 1;
	}

	100% {
		opacity: 0.2;
	}
}

@media (max-width: 1660px) {
	.firstButton {
		img {
			width: 29px;
			height: 29px;
		}
	}

	.secondButton {
		img {
			width: 26px;
			height: 26px;
		}
	}
}

@media (max-width: 1400px) {
	.text {
		font-size: 14px;
	}
}

@media (max-width: 1200px) {
	.text {
		font-size: 12px;
	}

	.leftMessagePanelButton:hover {
		transform: scale(1);
	}
}

@media (max-width: 500px) {
	.loadingDots {
		font-size: 14px;
	}

	.loadingText {
		font-size: 13px;
	}

	.dot {
		font-size: 16px;
	}

	.firstButton {
		img {
			width: 25px;
			height: 25px;
		}
	}

	.secondButton {
		img {
			width: 22px;
			height: 22px;
		}
	}

	.message {
		padding: 15px;
	}

	.favorableMessage .text {
		padding-bottom: 10px;
	}

	.leftMessagePanel {
		// margin-bottom: 20px; // Removed to fix gap
	}
}

@keyframes fadeInUp {
	from {
		opacity: 0;
		transform: translateY(20px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}


.buttonWithText {
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	align-content: center;
	flex-direction: row;
}